---
description: Common CLI commands reference
globs: ["**/scripts/**/*.ts", "package.json"]
alwaysApply: false
---

# CLI Commands Reference

## Development Setup

```bash
# Install dependencies
npm install

# Install Playwright browsers
npx playwright install chromium

# Database setup
npm run db:migrate

# Run server
npm start
```

## Code Quality

```bash
# Format code
npm run format

# Check formatting
npm run format:check

# Run tests
npm test

# Run tests with coverage
npm run test:coverage
```

## Database

```bash
# Generate migrations
npm run db:generate

# Run migrations
npm run db:migrate

# Open database studio
npm run db:studio
```

## Docker

```bash
# Build image
docker build -t aggregato:latest .

# Run container
docker run -p 8000:8000 \
  -e SECRET_KEY=your-key \
  -e DEBUG=True \
  -e ALLOWED_HOSTS=* \
  aggregato:latest

# View logs
docker logs -f aggregato
```

## Scheduled Tasks

Scheduled tasks are configured via cron jobs or task schedulers:

| Task | Default Schedule | Description |
|------|------------------|-------------|
| `aggregate_all_feeds` | `*/30 * * * *` | Aggregate all feeds and subreddits |
| `delete_old_articles` | `0 1 * * *` | Delete articles older than 2 months |

Common cron patterns:
- `0 * * * *` - Every hour
- `*/30 * * * *` - Every 30 minutes
- `0 1 * * *` - Daily at 01:00
